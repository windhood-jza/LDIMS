import{w as r,E as c}from"./index-DAb5ELNo.js";const a=t=>!t||!Array.isArray(t)?[]:t.map(e=>({id:e.id,name:e.name,parentId:e.parentId===void 0?null:e.parentId,sort:e.sortOrder??e.sort??0,level:e.level,description:e.description,createdBy:e.createdBy,createdAt:e.createdAt||new Date().toISOString(),updatedAt:e.updatedAt||new Date().toISOString(),children:a(e.children)})),p=async()=>{try{const t=await r.get("/doctypes/tree");return a(t||[])}catch(t){return console.error("API Error fetching doctype tree:",t),c.error("获取文档类型树失败"),[]}},o=t=>r.post("/doctypes",t),n=(t,e)=>r.put(`/doctypes/${t}`,e),d=t=>r.delete(`/doctypes/${t}`);export{o as c,d,p as g,n as u};
